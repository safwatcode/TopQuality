<div class="container">
  <h2 class="mb-4">About Page Management</h2>

  <!-- Timeline Management -->
  <div class="card mb-4">
    <div class="card-header">Timeline Entries</div>
    <div class="card-body">
      <form (ngSubmit)="addTimelineEntry()" #timelineForm="ngForm">
        <div class="row">
          <div class="col-md-3">
            <input type="number" class="form-control" [(ngModel)]="newTimelineEntry.year" name="year" placeholder="Year"
              required>
          </div>
          <div class="col-md-6">
            <input type="text" class="form-control" [(ngModel)]="newTimelineEntry.description" name="description"
              placeholder="Description" required>
          </div>
          <div class="col-md-3">
            <button type="submit" class="btn btn-primary" [disabled]="!timelineForm.form.valid">
              Add Timeline Entry
            </button>
          </div>
        </div>
      </form>

      <table class="table mt-3">
        <thead>
          <tr>
            <th>Year</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of timeline">
            <td>{{entry.year}}</td>
            <td>{{entry.description}}</td>
            <td>
              <!-- <button class="btn btn-sm btn-warning mr-2" (click)="editTimelineEntry(entry)">Edit</button> -->
              <button class="btn btn-sm btn-danger" (click)="deleteTimelineEntry(entry._id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Team Members Management -->
  <div class="card mb-4">
    <div class="card-header">Team Members</div>
    <div class="card-body">
      <form (ngSubmit)="addTeamMember()" #teamForm="ngForm">
        <div class="row">
          <div class="col-md-3">
            <input type="text" class="form-control" [(ngModel)]="newTeamMember.name" name="name" placeholder="Name"
              required>
          </div>
          <div class="col-md-3">
            <input type="text" class="form-control" [(ngModel)]="newTeamMember.role" name="role" placeholder="Role"
              required>
          </div>
          <div class="col-md-3">
            <select class="form-control" [(ngModel)]="newTeamMember.category" name="category" required>
              <option value="">Select Category</option>
              <option value="CEO">CEO</option>
              <option value="Technician">Technician</option>
              <option value="IT">IT</option>
            </select>
          </div>
          <div class="col-md-3">
            <input type="file" class="form-control" (change)="onFileSelected($event)" name="image">
          </div>
        </div>
        <button type="submit" class="btn btn-primary mt-2" [disabled]="!teamForm.form.valid">
          Add Team Member
        </button>
      </form>

      <table class="table mt-3">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Role</th>
            <th>Category</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let member of teamMembers">
            <!--           <img
          [src]="'http://localhost:3000/uploads/' + member.image"
            alt="{{member.name}}"
            class="card-img-top"
          > -->
            <td>
              <img [src]="'http://localhost:3000/uploads/' + member.image" alt="{{member.name}}"
                style="max-width: 50px; max-height: 50px;">
            </td>
            <td>{{member.name}}</td>
            <td>{{member.role}}</td>
            <td>{{member.category}}</td>
            <td>
              <!-- <button class="btn btn-sm btn-warning mr-2" (click)="editTeamMember(member)">Edit</button> -->
              <button class="btn btn-sm btn-danger" (click)="deleteTeamMember(member._id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Company Values Management -->
  <div class="card">
    <div class="card-header">Company Values</div>
    <div class="card-body">
      <form (ngSubmit)="addCompanyValue()" #valueForm="ngForm">
        <div class="row">
          <div class="col-md-4">
            <input type="text" class="form-control" [(ngModel)]="newCompanyValue.title" name="title"
              placeholder="Value Title" required>
          </div>
          <div class="col-md-6">
            <input type="text" class="form-control" [(ngModel)]="newCompanyValue.description" name="description"
              placeholder="Description" required>
          </div>
          <div class="col-md-2">
            <button type="submit" class="btn btn-primary" [disabled]="!valueForm.form.valid">
              Add Value
            </button>
          </div>
        </div>
      </form>

      <table class="table mt-3">
        <thead>
          <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let value of companyValues">
            <td>{{value.title}}</td>
            <td>{{value.description}}</td>
            <td>
              <!-- <button class="btn btn-sm btn-warning mr-2" (click)="editCompanyValue(value)">Edit</button> -->
              <button class="btn btn-sm btn-danger" (click)="deleteCompanyValue(value._id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
